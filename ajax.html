<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="id-edge">
         <title>AJAX - JSON</title>
    </head>
    <body>
        <button id="button_1">Get User</button> 
         <button id="button_2">Get Users</button>
         <h1>User</h1>
         <div id="user"></div>
         <h1>User</h1>
         <div id="users"></div>
         
         <script>
             document.getElementById('button_1').addEventListener('click',loaduser);
             document.getElementById('button_1').addEventListener('click',loadusers);
             
             
             function loaduser(){
                 var xhr = new XMLHttpRequest();
                 xhr.open('GET','user.json',true);
                 
                 xhr.onload = function()
                 {
                     if (this.status == 200)
                     {
                    //     console.log(this.responseText);   # When we need a response from the user
                    
                    var user = JSON.parse(this.responseText);
                    var output = '';
                    
                    output +='<ul>'+
                            '<li>Id : '+user.id+'</li>'+
                            '<li>Name : '+user.name+'</li>'
                            '<li>Email : '+user.email+'</li>'
                            '</ul>';
                            
                      document.getElementById('user').innerHTML=output;
                     }
                 }
                 xhr.send();
             }
              function loadusers(){
                 var xhr = new XMLHttpRequest();
                 xhr.open('GET','user.json',true);
                 
                 xhr.onload = function()
                 {
                     if (this.status == 200)
                     {
                    //     console.log(this.responseText);   # When we need a response from the user
                    
                    var users = JSON.parse(this.responseText);
                    var output = '';
                    for(var i in users)
                    { output +='<ul>'+
                            '<li>Id : '+users[i] .id+'</li>'+
                            '<li>Name : '+users[i].name+'</li>'
                            '<li>Email : '+users[i].email+'</li>'
                            '</ul>';
                        }   
                      document.getElementById('users').innerHTML=output;
                     }
                 }
                 xhr.send();
             }
             </script>
    </body>
</html>
